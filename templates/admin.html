<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>admin pannel</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href=" {{url_for('static',filename='css/admin.css') }}" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@4.5.0/fonts/remixicon.css" rel="stylesheet" />
</head>

<body>
    <section class="header">
        <div class="logo">
            <i class="ri-menu-line icon icon-0 menu"></i>
            <h2>R<samp>S</samp></h2>
        </div>
        <div class="search--notifacation--profile">
            <div class="search">
                <input type="text" placeholder="search Scdule..">
                <button><i class="ri-search-2-line"></i></button>
            </div>
            <div class="notifacation--profile">
                <div class="picon lock">
                    <i class="ri-lock-line"></i>
                </div>
                <div class="picon bell">
                    <i class="ri-notification-2-line"></i>
                </div>
                <div class="picon chat">
                    <i class="ri-wechat-2-line"></i>
                </div>
                <div class="picon profile">
                    <img src="{{ url_for('static', filename='assets/admin/images/1.jpg')}}" alt="">
                </div>
            </div>
        </div>
    </section>
    <section class="main">
        <div class="siderbar ">
            <ul class="sidebar--items">
                <li>
                    <a href="#" id="active--line">
                        <span class="icon icon-1"><i class="ri-layout-grid-line"></i></span>
                        <span class="sidebar--items">Deshboard</span>
                    </a>
                </li>
                <li>
                    <a href="#department">
                        <span class="icon icon-2"><i class="ri-notification-2-line"></i></span>
                        <span class="sidebar--items">Department</span>
                    </a>
                </li>

                <li>
                    <a href="#category">
                        <span class="icon icon-3"><i class="ri-user-line"></i></span>
                        <span class="sidebar--items" style="white-space: nowrap;">Category</span>
                    </a>
                </li>
                <li>
                    <a href="#patients">
                        <span class="icon icon-4"><i class="ri-user-line"></i></span>
                        <span class="sidebar--items">patients</span>
                    </a>
                </li>
                <li>
                    <a href="#">
                        <span class="icon icon-5"><i class="ri-line-chart-line"></i></span>
                        <span class="sidebar--items">Acticity</span>
                    </a>
                </li>
                <li>
                    <a href="#">
                        <span class="icon icon-6"><i class="ri-settings-3-line"></i></span>
                        <span class="sidebar--items">supports</span>
                    </a>
                </li>

            </ul>
            <ul class="sidebar--bottaom-itmems">
                <li>
                    <a href="#">
                        <span class="icon icon-7"><i class="ri-settings-3-line"></i></span>
                        <span class="sidebar--items">Settings</span>
                    </a>
                </li>
                <li>
                    <a href="/admin_logout">
                        <span class="icon icon-8"><i class="ri-logout-box-r-line"></i></span>
                        <span class="sidebar--items">Logout</span>
                    </a>
                </li>
            </ul>
        </div>
        <div class="main--content">
            <div class="overview">
                <div class="title">
                    <h2 class="section--title">Overview</h2>
                    <select name="date" id="date" class="dropdown">
                        <option value="today">Today</option>
                        <option value="lastweek">Last Week</option>
                        <option value="lastmonth">Last Month</option>
                        <option value="alltime">All Time</option>
                    </select>
                </div>
                <div class="cards">
                    <div class="card card-1">
                        <div class="card--date">
                            <div class="card--content">
                                <h5 class="card--title">Total Docter</h5>
                                <h1>152</h1>
                            </div>
                            <i class="ri-user-line card--icon--lg"></i>
                        </div>
                        <div class="card--states">
                            <span><i class="ri-bar-chart-fill card--icon stat--icon"></i>65%</span>
                            <span><i class="ri-arrow-up-s-fill card--icon up--arrow"></i>10</span>
                            <span><i class="ri-arrow-down-s-fill card--icon down-arrow"></i>2</span>
                        </div>
                    </div>
                    <div class="card card-2">
                        <div class="card--date">
                            <div class="card--content">
                                <h5 class="card--title">Total patients</h5>
                                <h1>1145</h1>
                            </div>
                            <i class="ri-user-line card--icon--lg"></i>
                        </div>
                        <div class="card--states">
                            <span><i class="ri-bar-chart-fill card--icon stat--icon"></i>82%</span>
                            <span><i class="ri-arrow-up-s-fill card--icon up--arrow"></i>230</span>
                            <span><i class="ri-arrow-down-s-fill card--icon down-arrow"></i>45</span>
                        </div>
                    </div>
                    <div class="card card-3">
                        <div class="card--date">
                            <div class="card--content">
                                <h5 class="card--title">Schedule</h5>
                                <h1>102</h1>
                            </div>
                            <i class="ri-calendar-2-line card--icon--lg"></i>
                        </div>
                        <div class="card--states">
                            <span><i class="ri-bar-chart-fill card--icon stat--icon"></i>27%</span>
                            <span><i class="ri-arrow-up-s-fill card--icon up--arrow"></i>31</span>
                            <span><i class="ri-arrow-down-s-fill card--icon down-arrow"></i>23</span>
                        </div>
                    </div>
                    <div class="card card-4">
                        <div class="card--date">
                            <div class="card--content">
                                <h5 class="card--title">Bads Availabale</h5>
                                <h1>15</h1>
                            </div>
                            <i class="ri-hotel-bed-line card--icon--lg"></i>
                        </div>
                        <div class="card--states">
                            <span><i class="ri-bar-chart-fill card--icon stat--icon"></i>8%</span>
                            <span><i class="ri-arrow-up-s-fill card--icon up--arrow"></i>11</span>
                            <span><i class="ri-arrow-down-s-fill card--icon down-arrow"></i>2</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="doctors">
                <div class="title">
                    <h2 class="section--title">Doctors</h2>
                    <div class="doctors--right--btns">
                        <select name="datwe" id="date" class="dropdown  doctors--filter">
                            <option>Fliter</option>
                            <option value="free">Free</option>
                            <option value="Schedule">Schedule</option>
                        </select>
                        <button class="add"><i class="ri-add-line edit"></i>Add Doctor</button>
                    </div>
                </div>
                {% if doctors %}
                <div class="doctors--cards">
                    {% for doctor in doctors %}
                    <div class="docter--card">
                        <div class="img--box--cover">
                            <div class="img--box">
                                <img src="{{doctor.profile_picture}}" alt="">
                            </div>
                        </div>
                        <p class="free">free</p>
                        <!-- Delete Button with confirmation -->
                        <div>
                            <form action="{{ url_for('delete_doctor', doctor_id=doctor.doctor_id) }}" method="POST" style="display:inline;">
                                <button type="submit" onclick="return confirm('Are you sure you want to delete this patient?');" class="delete-btn">
                                    <i class="ri-delete-bin-line delete"></i>
                                </button>
                            </form>
                    </div>
                </div>
                    {% endfor %}
                </div>
                {% else %}
                    <h2>No doctors</h2>
                    {% endif %}
            </div>
            <div class="recent--patients" id="patients">
                <div class="title">
                    <h2 class="section--title">Recent Patients</h2>
                    <button class="add"><i class="ri-add-line edit"></i>Add Doctor</button>
                </div>
                <div class="table">
                    {% if patients %}
                    <table>
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Data in</th>
                                <th>Gender</th>
                                <th>Age</th>
                                <th>Status</th>
                                <th>Settings</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for patient in patients %}
                            <tr>
                                <td>{{ patient.full_name }}</td>
                                <td>{{ patient.registration_date }}</td>
                                <td>{{ patient.gender }}</td>
                                <td>{{ patient.age }}</td>  <!-- Changed weight to age -->
                                <td class="{% if patient.status == 'active' %}confrom{% else %}delete{% endif %}">{{ patient.status }}</td>
                                <td>
                                    <samp>
                                        <form action="{{ url_for('delete_patient', patient_id=patient.patient_id) }}" method="POST" style="display:inline;">
                                            <button type="submit" onclick="return confirm('Are you sure you want to delete this patient?');" class="delete-btn">
                                                <i class="ri-delete-bin-line delete"></i>
                                            </button>
                                        </form>                                      
                                    </samp>
                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                    {% else %}
                    <h2>No patients</h2>
                    {% endif %}
                </div>
                
            </div>
            <!-- form -->
            <div class="container mt-5" id="department">
                <h2 class="text-center mb-4">Add Department</h2>
                {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    <ul class="flashes">
                        {% for category, message in messages %}
                            <li class="alert alert-{{ category }}">{{ message }}</li>
                        {% endfor %}
                    </ul>
                {% endif %}
            {% endwith %}
                <form action="/admin" method="POST" enctype="multipart/form-data">
                    <input type="hidden" name="form_type" value="add_department">
                    <!-- Department ID -->
                    <div class="mb-3">
                        <label for="departmentId" class="form-label">Department ID</label>
                        <input type="text" class="form-control" id="departmentId" name="departmentId" placeholder="Enter Department ID" required>
                    </div>
                    <!-- Department Name -->
                    <div class="mb-3">
                        <label for="departmentName" class="form-label">Department Name</label>
                        <input type="text" class="form-control" id="departmentName" name="departmentName" required>
                        {% if error_message.department_name %}
                            <div class="text-danger">{{ error_message.department_name }}</div>
                        {% endif %}
                    </div>
                    <!-- Department Title -->
                    <div class="mb-3">
                        <label for="departmentTitle" class="form-label">Department Title</label>
                        <input type="text" class="form-control" id="departmentTitle" name="departmentTitle" placeholder="Enter Department Title">
                    </div>
                    <!-- Department Picture -->
                    <div class="mb-3">
                        <label for="departmentPicture" class="form-label">Department Picture</label>
                        <input type="file" class="form-control" id="departmentPicture" name="departmentPicture" accept=".png, .svg" required>
                        {% if error_message.department_picture %}
                            <div class="text-danger">{{ error_message.department_picture }}</div>
                        {% endif %}
                    </div>
                    <!-- Submit Button -->
                    <button type="submit" class="btn btn-primary">Add Department</button>
                </form>
            </div>
            <!-- end form -->
            <!--form -->
           
            <div class="bg-gray-100  justify-center items-center mt-4 p-4" id="category">
             <div class="bg-white shadow-lg rounded-lg p-6 w-full max-w-md">
                <h2 class="text-2xl font-bold mb-4 text-gray-700">Add New Category</h2>
                <form id="addCategoryForm" action="/admin" method="POST" enctype="multipart/form-data" class="space-y-4">
                    <input type="hidden" name="form_type" value="add_category">
                    <!-- Category Name -->
                  <div>
                    <label for="name" class="block text-sm font-medium text-gray-700">Category Name</label>
                    <input
                      type="text"
                      id="name"
                      name="name"
                      placeholder="Enter category name"
                      class="mt-1 p-2 w-full border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"
                      required
                    />
                  </div>

                  <div>
                    <label for="price" class="block text-sm font-medium text-gray-700">Category Price</label>
                    <input
                      type="text"
                      id="price"
                      name="price"
                      placeholder="Enter price"
                      class="mt-1 p-2 w-full border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"
                      required
                    />
                  </div>
            
                  <!-- Description -->
                  <div>
                    <label for="description" class="block text-sm font-medium text-gray-700">Description (Optional)</label>
                    <textarea
                      id="description"
                      name="description"
                      placeholder="Enter category description"
                      class="mt-1 p-2 w-full border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"
                    ></textarea>
                  </div>
            
                  <!-- Category Icon -->
                  <div>
                    <label for="icon" class="block text-sm font-medium text-gray-700">Category Icon (Optional)</label>
                    <input
                      type="file"
                      id="icon"
                      name="icon"
                      accept="image/*"
                      class="mt-1 w-full"
                    />
                  </div>
            
                  <!-- Submit Button -->
                  <div>
                    <button
                      type="submit"
                      class="w-full bg-blue-600 text-white py-2 px-4 rounded-lg shadow hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500"
                    >
                      Add Category
                    </button>
                  </div>
                </form>
              </div>
                    
             <!--form -->
            
             <div class="bg-gray-100 justify-center items-center mt-4 p-4 " id="lab_test">
                <div class="bg-white shadow-lg rounded-lg p-6 w-full max-w-md">
                   <h2 class="text-2xl font-bold mb-4 text-gray-700">Add LAB TEST</h2>
                   <form id="addTestForm" action="/admin" method="POST" enctype="multipart/form-data" class="space-y-4">
                       <input type="hidden" name="form_type" value="add_test">
                       <!-- lab test Name -->
                     <div>
                       <label for="name" class="block text-sm font-medium text-gray-700">Lab Test Name</label>
                       <input
                         type="text"
                         id="name"
                         name="name"
                         placeholder="Enter Test name"
                         class="mt-1 p-2 w-full border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"
                         required
                       />
                     </div>
   
                     <div>
                       <label for="price" class="block text-sm font-medium text-gray-700">Lab Test Price</label>
                       <input
                         type="text"
                         id="price"
                         name="price"
                         placeholder="Enter price"
                         class="mt-1 p-2 w-full border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"
                         required
                       />
                     </div>
               
                     <!-- Description -->
                     <div>
                       <label for="description" class="block text-sm font-medium text-gray-700">Description (Optional)</label>
                       <textarea
                         id="description"
                         name="description"
                         placeholder="Enter Test description"
                         class="mt-1 p-2 w-full border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"
                       ></textarea>
                     </div>
               
                     <!-- Category Icon -->
                     <div>
                       <label for="icon" class="block text-sm font-medium text-gray-700">Lab Test icon (Optional)</label>
                       <input
                         type="file"
                         id="icon"
                         name="icon"
                         accept="image/*"
                         class="mt-1 w-full"
                       />
                     </div>
               
                     <div>
                        <label for="test_type" class="block text-sm font-medium text-gray-700">Lab Test Type</label>
                        <select
                          id="test_type"
                          name="test_type"
                          class="mt-1 p-2 w-full border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"
                          required
                        >
                          <option value="" disabled selected>Select Test Type</option>
                          <option value="Top Test">Top Booked</option>
                          <option value="Daily Routine">Daily Routine</option>
                          <option value="Women Care">Women Care</option>
                        </select>
                      </div>
                      

                     <!-- Submit Button -->
                     <div>
                       <button
                         type="submit"
                         class="w-full bg-blue-600 text-white py-2 px-4 rounded-lg shadow hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
                         Add Lab Test
                       </button>
                     </div>
                   </form>
                 </div>
           
               
               <div>
             </div>
            
    </section>
</body>
<script src="js/main.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</html>